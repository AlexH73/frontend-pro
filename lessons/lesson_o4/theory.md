## üìò –¢–ï–û–†–ò–Ø: React `useEffect` (–±–µ–∑ TypeScript)

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `useEffect`?

`useEffect` ‚Äî —ç—Ç–æ —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å **–ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** (side effects) –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

-   –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞
-   –†–∞–±–æ—Ç–∞ —Å `setTimeout`, `setInterval`
-   –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `window.addEventListener`)
-   –†–∞–±–æ—Ç–∞ —Å localStorage
-   –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –¥—Ä.

___

### üîπ –û–±—â–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```tsx
useEffect(() => {
  // –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

  return () => {
    // –æ—á–∏—Å—Ç–∫–∞ (optional)
  };
}, [–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]);
```

___

## üß™ –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

___

### 1\. **–ë–µ–∑ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```tsx
useEffect(() => {
  console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–∏–ª—Å—è');
});
```

üîÅ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞** (–≤–∫–ª—é—á–∞—è –ø–µ—Ä–≤–æ–µ –∏ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è).

___

### 2\. **–° –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `[]`**

```tsx
useEffect(() => {
  console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω');

  return () => {
    console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω');
  };
}, []);
```

‚úÖ –≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞. üßπ –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑–æ–≤–µ—Ç—Å—è **–ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**.

___

### 3\. **–° –æ–¥–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é**

```tsx
const [count, setCount] = useState(0);

useEffect(() => {
  console.log('–°—Ä–∞–±–æ—Ç–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ count:', count);
}, [count]);
```

‚öôÔ∏è –≠—Ñ—Ñ–µ–∫—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç **–∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ `count` –∏–∑–º–µ–Ω—è–µ—Ç—Å—è**.

___

### 4\. **–° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**

```tsx
const [width, setWidth] = useState(window.innerWidth);
const [height, setHeight] = useState(window.innerHeight);

useEffect(() => {
  const handleResize = () => {
    setWidth(window.innerWidth);
    setHeight(window.innerHeight);
  };

  window.addEventListener('resize', handleResize);

  return () => {
    window.removeEventListener('resize', handleResize);
  };
}, [width, height]);
```

üì¶ –≠—Ç–æ—Ç —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `width` –∏–ª–∏ `height`. –ù–æ ‚ö†Ô∏è –ª—É—á—à–µ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `[]`, —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å–∫–∞ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –æ–¥–∏–Ω —Ä–∞–∑:

```tsx
useEffect(() => {
  const handleResize = () => {
    setWidth(window.innerWidth);
    setHeight(window.innerHeight);
  };

  window.addEventListener('resize', handleResize);

  return () => {
    window.removeEventListener('resize', handleResize);
  };
}, []);
```

___

### 5\. **–° –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π (fetch –¥–∞–Ω–Ω—ã—Ö)**

```tsx
useEffect(() => {
  async function fetchData() {
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    console.log(data);
  }

  fetchData();
}, []);
```

üì° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é `async` —Ñ—É–Ω–∫—Ü–∏—é.

___

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

-   **–ß–∏—Å—Ç–∏—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**: –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–∞–π–º–µ—Ä—ã, –ø–æ–¥–ø–∏—Å–∫–∏ –∏–ª–∏ —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–π—Ç–µ –∏—Ö –≤–Ω—É—Ç—Ä–∏ `return`.
-   **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ**: –≤—Å—ë, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `useEffect` –∏ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
-   **–ò–∑–±–µ–≥–∞–π—Ç–µ –ª–∏—à–Ω–µ–≥–æ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**: –Ω–µ –ø–æ–º–µ—â–∞–π—Ç–µ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

___

## üß† –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1.  –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É `useEffect(() => {...})` –∏ `useEffect(() => {...}, [])`?
2.  –ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä –∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –≤–Ω—É—Ç—Ä–∏ `useEffect`?
3.  –ö–æ–≥–¥–∞ `useEffect` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ?
4.  –ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ?
